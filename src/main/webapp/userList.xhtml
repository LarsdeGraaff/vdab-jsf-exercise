<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
        >


<h:head>
    <script type="application/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css"/>

    <script type="application/javascript"
            src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="fortune.css"/>

    <title>User</title>
</h:head>

<h:body>
    <div class="container">

        <h1>Userlist</h1>

        <p:dataTable styleClass="table table-striped" value="#{userRepository.findAll()}" var="user" >
            <p:column>
                <f:facet name="header">
                    <h:outputText value="First Name"/>
                </f:facet>

                <h:outputText value="#{user.firstName}"/>
            </p:column>

            <p:column>
                <f:facet name="header">
                    <h:outputText value="Last Name"/>
                </f:facet>
                <h:outputText value="#{user.lastName}"/>
            </p:column>


            <p:column>
                <f:facet name="header">
                    <h:outputText value="Birthdate"/>
                </f:facet>
                <h:outputText value="#{user.birthDate}">
                <f:convertDateTime dateStyle="short" pattern="dd MMM YYYY"/></h:outputText>
            </p:column>

            <p:column>
                <h:link outcome="user" styleClass="btn btn-info">
                    <span class="glyphicon glyphicon-user"></span>
                    <f:param name="id" value="#{user.id}"></f:param>

                </h:link>
            </p:column>

            <p:column>
                <h:form>
                <h:commandLink value="Edit" styleClass="btn btn-warning">
                    <span class="glyphicon glyphicon-wrench"></span></h:commandLink></h:form>
            </p:column>

            <p:column>
                <h:form>
                    <h:commandLink value="delete" action="#{userRepository.remove(user.id)}" styleClass="btn btn-danger">
                        <span class="glyphicon glyphicon-thumbs-down"></span></h:commandLink>
                </h:form>

            </p:column>


        </p:dataTable>


            <a href="form.faces" class="btn btn-primary">create new User</a>
    </div>
</h:body>

</html>